<div
  class="p-d-flex p-jc-center p-ai-center"
  style="min-height: 100vh; padding: 2rem 0"
  *ngIf="form"
>
  <div class="p-grid p-jc-center w-100">
    <div class="p-d-flex p-jc-center">
      <img
        class="p-mb-4"
        src="https://trabajosdiarios.com/storage/logo/pe/INRO/76XNvAFdUPgvz84DSFEwFlaDdhF6wqDmxrDfz0Fp.png"
        alt="Logo"
        height="77"
      />
    </div>

    <div class="p-col-12 p-md-6 p-lg-4">
      <form
        class="p-mt-2"
        [formGroup]="form"
        (ngSubmit)="registrar()"
        autocomplete="off"
        novalidate
      >
        <h3 class="p-text-center">Registro de usuario</h3>

        <!-- Nombres -->
        <div class="p-field p-mb-3">
          <label for="nombres">Nombres</label>
          <p-inputText
            id="nombres"
            formControlName="nombres"
            placeholder="Nombres"
            [ngClass]="{ 'p-invalid': controlHasError('nombres', 'required') }"
          ></p-inputText>
          <small class="p-error" *ngIf="controlHasError('nombres', 'required')">
            Este campo es obligatorio
          </small>
        </div>

        <!-- Apellidos -->
        <div class="p-field p-mb-3">
          <label for="apellidos">Apellidos</label>
          <p-inputText
            id="apellidos"
            formControlName="apellidos"
            placeholder="Apellidos"
            [ngClass]="{
              'p-invalid': controlHasError('apellidos', 'required')
            }"
          ></p-inputText>
          <small
            class="p-error"
            *ngIf="controlHasError('apellidos', 'required')"
          >
            Este campo es obligatorio
          </small>
        </div>

        <!-- Correo electrónico -->
        <div class="p-field p-mb-3">
          <label for="email">Correo electrónico</label>
          <p-inputText
            id="email"
            formControlName="email"
            placeholder="Correo electrónico"
            [ngClass]="{
              'p-invalid':
                controlHasError('email', 'required') ||
                controlHasError('email', 'email') ||
                controlHasError('email', 'emailExiste')
            }"
          ></p-inputText>
          <small class="p-error" *ngIf="controlHasError('email', 'required')">
            Este campo es obligatorio
          </small>
          <small class="p-error" *ngIf="controlHasError('email', 'email')">
            Ingrese un correo electrónico válido
          </small>
          <small
            class="p-error"
            *ngIf="controlHasError('email', 'emailExiste')"
          >
            El email ya fue registrado
          </small>
        </div>

        <!-- Contraseña -->
        <div class="p-field p-mb-3">
          <label for="password">Contraseña</label>
          <p-password
            id="password"
            [toggleMask]="true"
            formControlName="password"
            placeholder="Contraseña"
            feedback="false"
            [ngClass]="{
              'p-invalid':
                controlHasError('password', 'required') ||
                controlHasError('password', 'minlength')
            }"
          ></p-password>
          <small
            class="p-error"
            *ngIf="controlHasError('password', 'required')"
          >
            Este campo es obligatorio
          </small>
          <small
            class="p-error"
            *ngIf="controlHasError('password', 'minlength')"
          >
            La contraseña debe tener al menos 4 caracteres
          </small>
        </div>

        <!-- Botones -->
        <div class="p-text-right">
          <p-button
            label="Cancelar"
            icon="pi pi-times"
            class="p-button-secondary p-mr-2"
            routerLink="/"
          ></p-button>
          <p-button
            label="Registrar"
            icon="pi pi-check"
            type="submit"
            class="p-button-primary"
          ></p-button>
        </div>
      </form>
    </div>
  </div>
</div>
